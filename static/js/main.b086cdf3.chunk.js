(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{100:function(e,t,n){e.exports={profile:"Profile_profile__Raocc",profileContainer:"Profile_profileContainer__3htoh"}},101:function(e,t,n){e.exports={preloaderContainer:"Preloader_preloaderContainer__cTqqf",preloader:"Preloader_preloader__1X58S"}},138:function(e,t,n){e.exports={loginContainer:"LoginPage_loginContainer__2ACPH"}},139:function(e,t,n){},14:function(e,t,n){e.exports={userPage:"User_userPage__2fV_d",avaButton:"User_avaButton__2XvCX",avaDiv:"User_avaDiv__8o_Y5",ava:"User_ava__2oGSE",buttonDiv:"User_buttonDiv__1YVJg",userButton:"User_userButton__1V3Wv",info:"User_info__1DROC",NameStatus:"User_NameStatus__3Tl6P",name:"User_name__339LZ",userInfo:"User_userInfo__1rMPm",location:"User_location__Me1bg"}},140:function(e,t,n){e.exports={button:"Button_button__2czcP"}},172:function(e,t,n){},173:function(e,t,n){},30:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__1nBy9",dialogsItem:"Dialogs_dialogsItem__2c3zI",dialog:"Dialogs_dialog__2pIox",active:"Dialogs_active__3OOF6",messages:"Dialogs_messages__164NY",addMessage:"Dialogs_addMessage__1sej9"}},300:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),r=n(69),o=n.n(r),i=(n(172),n(26)),c=n(27),u=n(29),l=n(28),j=n(11),f=n(9),d=(n(173),n(40)),p=n(4),b={masseges:[{id:1,message:"Hi",myMessage:!1},{id:2,message:"How are you",myMessage:!0},{id:3,message:"Where are you from??",myMessage:!0},{id:4,message:"Help",myMessage:!1},{id:5,message:"Hello",myMessage:!0}],dialogs:[{id:1,name:"Artem",ava:"https://images.unsplash.com/photo-1562569633-622303bafef5?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=334&q=80"},{id:2,name:"Arina",ava:"https://images.unsplash.com/photo-1562569633-622303bafef5?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=334&q=80"},{id:3,name:"Anita",ava:"https://images.unsplash.com/photo-1562569633-622303bafef5?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=334&q=80"},{id:4,name:"Dima",ava:"https://images.unsplash.com/photo-1562569633-622303bafef5?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=334&q=80"},{id:5,name:"Egor",ava:"https://images.unsplash.com/photo-1562569633-622303bafef5?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=334&q=80"},{id:6,name:"Pavel",ava:"https://images.unsplash.com/photo-1562569633-622303bafef5?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=334&q=80"}]},g=n(10),m=n(19),O=n(30),h=n.n(O),x=n(0),v=function(e){var t="/dialogs/"+e.id;return Object(x.jsxs)("div",{className:h.a.dialog,children:[Object(x.jsx)("img",{src:e.ava}),Object(x.jsx)(m.b,{to:t,activeClassName:h.a.active,children:e.name})]})},_=n(15),P=n(94),S=n.n(P),w=function(e){var t=e.textMesage,n=e.myMassege;Object(_.a)(e,["textMesage","myMassege"]);return Object(x.jsx)("div",{className:n?S.a.YoutextMesage:S.a.MytextMesage,children:t})},y=n(131),N=n(132),M=n(54),C=n.n(M),I=function(e){e.input;var t=e.meta,n=Object(_.a)(e,["input","meta"]),s=t.touched&&t.error;return Object(x.jsxs)("div",{className:"".concat(C.a.formControl,"  ").concat(s&&C.a.error),children:[Object(x.jsx)("div",{children:n.children}),Object(x.jsx)("div",{children:s&&Object(x.jsx)("span",{children:t.error})})]})},U=function(e){var t=e.input,n=(e.meta,Object(_.a)(e,["input","meta"]));return Object(x.jsxs)(I,Object(p.a)(Object(p.a)({},e),{},{children:[Object(x.jsx)("textarea",Object(p.a)(Object(p.a)({},t),n))," "]}))},E=function(e){var t=e.input,n=(e.meta,Object(_.a)(e,["input","meta"]));return Object(x.jsxs)(I,Object(p.a)(Object(p.a)({},e),{},{children:[Object(x.jsx)("input",Object(p.a)(Object(p.a)({},t),n))," "]}))},D=function(e){if(!e)return"Field is rejquired"},k=function(e){return function(t){if(t.length>e)return"max length is ".concat(e,"  symbols")}},T=function(e){var t=e.messages.map((function(e){return Object(x.jsx)(w,{textMesage:e.message,myMassege:e.myMessage},e.id)})),n=e.dialogs.map((function(e){return Object(x.jsx)(v,{name:e.name,id:e.id,ava:e.ava},e.id)}));return Object(x.jsxs)("div",{className:h.a.dialogs,children:[Object(x.jsx)("div",{className:h.a.dialogsItem,children:n}),Object(x.jsxs)("div",{className:h.a.messages,children:[Object(x.jsx)("div",{children:t}),Object(x.jsx)("div",{className:h.a.addMessage,children:Object(x.jsx)(F,{onSubmit:function(t){var n=t.newMessage;console.log(n),e.SendMessage(n)}})})]})]})},A=k(200),F=Object(N.a)({form:"newMessage"})((function(e){return Object(x.jsxs)("form",{onSubmit:e.handleSubmit,className:h.a.form,children:[Object(x.jsx)("div",{children:Object(x.jsx)(y.a,{placeholder:"New message",name:"newMessage",component:U,validate:[D,A],className:h.a.input})}),Object(x.jsx)("div",{children:Object(x.jsx)("button",{children:"Send"})})]})})),L=function(e){return{isAuth:e.auth.isAuth}};var G=function(e){var t=function(t){Object(u.a)(s,t);var n=Object(l.a)(s);function s(){return Object(i.a)(this,s),n.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var t=this.props,n=(t.isAuth,Object(_.a)(t,["isAuth"]));return this.props.isAuth?Object(x.jsx)(e,Object(p.a)({},n)):Object(x.jsx)(j.a,{to:"/login"})}}]),s}(a.a.Component);return Object(g.b)(L)(t)},H=Object(f.d)(G,Object(g.b)((function(e){return{messages:e.messagePage.masseges,dialogs:e.messagePage.dialogs,isAuth:e.auth.isAuth}}),(function(e){return{SendMessage:function(t){e({type:"SEND-MESSAGE",sendMessage:t})}}})))(T),B=n(12),R=n.n(B),z=n(21),Y=n(137),W=n.n(Y).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"89087f1a-df84-4609-ac91-9f089fdba243"}}),q={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return W.get("users?page=".concat(e,"&count=",30)).then((function(e){return e.data}))},followToUser:function(e){return W.post("follow/".concat(e)).then((function(e){return e.data}))},unFollowToUser:function(e){return W.delete("follow/".concat(e)).then((function(e){return e.data}))},getProfile:function(e){return V.getProfile(e)}},V={getProfile:function(e){return W.get("profile/"+e).then((function(e){return e.data}))},getStatus:function(e){return W.get("profile/status/"+e)},updateStatus:function(e){return W.put("profile/status",{status:e})}},X=function(){return W.get("auth/me").then((function(e){return e.data}))},Z=function(e){return W.post("/auth/login",e)},J=function(){return W.delete("/auth/login").then((function(e){return e.data}))},Q=n(38),K={id:null,email:null,login:"",isAuth:!1},$=function(e){return{type:"SET-AUTH-USER-DATA",data:e}},ee=function(){return function(){var e=Object(z.a)(R.a.mark((function e(t){var n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X();case 2:0===(n=e.sent).resultCode&&t($(Object(p.a)({isAuth:!0},n.data)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},te=n(97),ne=n.n(te),se=n.p+"static/media/logo.73d85abf.svg",ae=function(e){return Object(x.jsxs)("header",{className:ne.a.header,children:[Object(x.jsx)("img",{src:se}),Object(x.jsx)("div",{className:ne.a.loginBlock,children:e.isAuth?Object(x.jsxs)("div",{children:[e.login,"-",Object(x.jsx)("button",{onClick:e.logoutMe,children:"Log out"})]}):Object(x.jsx)(m.b,{to:"/login",children:"Login"})})]})},re=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.authMe()}},{key:"render",value:function(){return Object(x.jsx)(ae,{logoutMe:this.props.logoutMe,isAuth:this.props.isAuth,login:this.props.login})}}]),n}(a.a.Component),oe=Object(g.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{setAuthUserData:$,authMe:ee,logoutMe:function(){return function(){var e=Object(z.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J();case 2:0===e.sent.resultCode&&t($({id:null,email:null,login:"",isAuth:!1}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(re),ie=n(58),ce=n.n(ie),ue=k(30),le=Object(N.a)({form:"login"})((function(e){return Object(x.jsxs)("form",{onSubmit:e.handleSubmit,className:ce.a.form,children:[Object(x.jsx)("div",{children:Object(x.jsx)(y.a,{placeholder:"email",name:"email",component:E,validate:[D,ue],className:ce.a.input})}),Object(x.jsx)("div",{children:Object(x.jsx)(y.a,{placeholder:"password",type:"password",name:"password",component:E,validate:[D,ue],className:ce.a.input})}),Object(x.jsxs)("div",{children:[Object(x.jsx)(y.a,{type:"checkbox",component:"input",name:"rememberMe",className:ce.a.checkbox})," remember me"]}),e.error&&Object(x.jsx)("div",{className:C.a.formSummaryError,children:e.error}),Object(x.jsx)("div",{children:Object(x.jsx)("button",{children:"Login"})})]})})),je=n(138),fe=n.n(je),de=Object(g.b)((function(e){return{isAuth:e.auth.isAuth}}),{loginMe:function(e){return function(){var t=Object(z.a)(R.a.mark((function t(n){var s,a;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z(e);case 2:0===(s=t.sent).data.resultCode?n(ee()):(a=s.data.messages.length>0?s.data.messages[0]:"someError",n(Object(Q.a)("login",{_error:a})));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.loginMe;return e.isAuth?Object(x.jsx)(j.a,{to:"/profile"}):Object(x.jsxs)("div",{className:fe.a.loginContainer,children:[Object(x.jsx)("h1",{children:"Login"}),Object(x.jsx)(le,{onSubmit:function(e){t(e)}})]})})),pe=G((function(){return Object(x.jsx)("div",{children:Object(x.jsx)("button",{children:"+"})})})),be=n(98),ge=n.n(be),me=n(99),Oe=n.n(me),he=function(e){var t=e.link,n=e.title;return Object(x.jsx)("div",{className:Oe.a.item,children:Object(x.jsx)(m.b,{to:t,activeClassName:Oe.a.active,children:n})})},xe=function(){Object(g.d)((function(e){return e.usersPage.users}));return Object(x.jsx)("nav",{className:ge.a.nav,children:Object(x.jsxs)("div",{className:ge.a.navContainer,children:[Object(x.jsx)(he,{link:"/profile",title:"Profile"}),Object(x.jsx)(he,{link:"/users",title:"Users"}),Object(x.jsx)(he,{link:"/dialogs",title:"Massages"}),Object(x.jsx)(he,{link:"/news",title:"News"}),Object(x.jsx)(he,{link:"/music",title:"Music"}),Object(x.jsx)(he,{link:"/setting",title:"Settings"})]})})},ve=function(){Object(g.c)();return Object(x.jsx)("div",{children:"News"})},_e=n(41),Pe=n.n(_e),Se=k(30),we=Object(N.a)({form:"profileNewPostForm"})((function(e){return Object(x.jsxs)("form",{onSubmit:e.handleSubmit,className:Pe.a.form,children:[Object(x.jsx)("div",{children:Object(x.jsx)(y.a,{placeholder:"Add new post",name:"newPost",component:U,validate:[D,Se]})}),Object(x.jsx)("div",{children:Object(x.jsx)("button",{children:"Login"})})]})})),ye=n(75),Ne=n.n(ye),Me=n.p+"static/media/user.17df8b8c.png",Ce=function(e){return Object(x.jsxs)("div",{className:Ne.a.post,children:[Object(x.jsx)("div",{children:Object(x.jsx)("img",{src:Me})}),Object(x.jsxs)("div",{className:Ne.a.massage,children:[e.massage,Object(x.jsxs)("div",{className:Ne.a.like,children:[Object(x.jsx)("span",{children:"\u2665"}),e.like]})]})]})},Ie=a.a.memo((function(e){var t=e.post.map((function(e){return Object(x.jsx)(Ce,{massage:e.message,like:e.numberLike},e.id)}));return Object(x.jsxs)("div",{className:Pe.a.mypost,children:[Object(x.jsxs)("div",{className:Pe.a.mypostContainer,children:[Object(x.jsx)("div",{children:Object(x.jsx)("img",{className:Pe.a.ava,src:Me})}),Object(x.jsx)(we,{onSubmit:function(t){var n=t.newPost;e.addPost(n)}})]}),Object(x.jsxs)("div",{className:Pe.a.myPosts,children:[Object(x.jsx)("h3",{children:"My post"}),t]})]})})),Ue=n(100),Ee=n.n(Ue),De=n.p+"static/media/preloader.d564adc2.svg",ke=n(101),Te=n.n(ke),Ae=function(){return Object(x.jsxs)("div",{className:Te.a.preloaderContainer,children:[Object(x.jsx)("img",{src:De,className:Te.a.preloader})," "]})},Fe=n(31),Le=n.n(Fe),Ge=n(57),He=function(e){var t=Object(s.useState)(e.status),n=Object(Ge.a)(t,2),a=n[0],r=n[1],o=Object(s.useState)(!1),i=Object(Ge.a)(o,2),c=i[0],u=i[1];return Object(s.useEffect)((function(){r(e.status)}),[e.status]),Object(x.jsx)("div",{className:Le.a.profileStatus,children:c?Object(x.jsx)("div",{className:Le.a.statusInput,children:Object(x.jsx)("input",{autoFocus:!0,onChange:function(e){e.currentTarget.value&&r(e.currentTarget.value)},onBlur:function(){u(!1),e.updateStatus(a)},value:a})}):Object(x.jsx)("div",{className:Le.a.statusText,children:Object(x.jsx)("span",{onDoubleClick:function(){u(!0)},children:e.status||"__________"})})})},Be=function(e){var t=e.profile,n=e.status,s=e.updateStatus;return t?Object(x.jsxs)("div",{className:Le.a.PrfileInfo,children:[Object(x.jsx)("div",{className:Le.a.PrfileInfoImg,children:Object(x.jsx)("img",{className:Le.a.ava,src:t.photos.large||Me})}),Object(x.jsxs)("div",{className:Le.a.discriptionInfo,children:[Object(x.jsx)("h5",{className:Le.a.name,children:"Vlad Klopot"}),Object(x.jsx)(He,{status:n,updateStatus:s})]})]}):Object(x.jsx)(Ae,{})},Re=function(e){return Object(x.jsx)("div",{className:Ee.a.profile,children:Object(x.jsxs)("div",{className:Ee.a.profileContainer,children:[Object(x.jsx)(Be,{profile:e.profile,status:e.status,updateStatus:e.updateStatus}),Object(x.jsx)(Ie,{post:e.post,newPostChange:e.newPostChange,addPost:e.addPost})]})})},ze={postData:[{id:1,message:"Today I go to the cinema",numberLike:12},{id:2,message:"Haw are you?",numberLike:20},{id:3,message:"It's my firs post!",numberLike:100}],profile:null,status:""},Ye=function(e){return{type:"SET-USER-PROFILE",profile:e}},We=function(e){return{type:"SET-STATUS",status:e}},qe=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userID;e||(e=String(this.props.userID)),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"render",value:function(){return Object(x.jsx)(Re,Object(p.a)(Object(p.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),n}(a.a.Component),Ve=Object(f.d)(G,Object(g.b)((function(e){return{profile:e.postPage.profile,status:e.postPage.status,post:e.postPage.postData,userID:e.auth.id}}),{addPost:function(e){return{type:"ADD-POST",newPostAdd:e}},setUsersProfile:Ye,getUserProfile:function(e){return function(){var t=Object(z.a)(R.a.mark((function t(n){var s;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q.getProfile(e);case 2:s=t.sent,n(Ye(s));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatus:function(e){return function(){var t=Object(z.a)(R.a.mark((function t(n){var s;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V.getStatus(e);case 2:s=t.sent,n(We(s.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(z.a)(R.a.mark((function t(n){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(We(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),j.f)(qe),Xe=function(){return Object(x.jsx)("div",{children:"Setting"})},Ze=function(e,t,n,s){return e.map((function(e){return e[n]===t?Object(p.a)(Object(p.a)({},e),s):e}))},Je={users:[],pageSize:30,totalUsersCount:200,currentPage:1,isFetching:!0,followingInProgress:[]},Qe=function(e){return{type:"FOLLOW-USER",usersID:e}},Ke=function(e){return{type:"UNFOLLOW-USER",usersID:e}},$e=function(e){return{type:"SET-CURRENT-PAGE",currentPage:e}},et=function(e){return{type:"TOGGLE-IS-FETCHING",isFetching:e}},tt=function(e,t){return{type:"TOGGLE-IS-FOLLOWING-PROGRESS",isFetching:e,userID:t}},nt=function(){var e=Object(z.a)(R.a.mark((function e(t,n,s,a){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(tt(!0,n)),e.next=3,s(n);case 3:0===e.sent.resultCode&&t(a(n)),t(tt(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,s,a){return e.apply(this,arguments)}}(),st=n(139),at=n.n(st),rt=n(14),ot=n.n(rt),it=n(140),ct=n.n(it),ut=function(e){var t=e.title,n=e.onClick,s=Object(_.a)(e,["title","onClick"]),a="".concat(ct.a.button," ").concat(s.className);return Object(x.jsx)("button",{onClick:n,className:a,disabled:s.disabled,children:t})},lt=function(e){var t,n,s=e.user,a=Object(_.a)(e,["user"]);return Object(x.jsxs)("div",{className:ot.a.userPage,children:[Object(x.jsxs)("div",{className:ot.a.avaButton,children:[Object(x.jsx)("div",{className:ot.a.avaDiv,children:Object(x.jsx)(m.b,{to:"/profile/"+s.id,children:Object(x.jsx)("img",{src:s.ava?s.ava:Me,className:ot.a.ava})})}),Object(x.jsx)("div",{className:ot.a.buttonDiv,children:s.followed?Object(x.jsx)(ut,{className:ot.a.userButton,onClick:function(){return a.unFollow(s.id)},title:"Unfollow",disabled:a.followingInProgress.some((function(e){return e===s.id}))}):Object(x.jsx)(ut,{className:ot.a.userButton,onClick:function(){return a.follow(s.id)},title:"Follow",disabled:a.followingInProgress.some((function(e){return e===s.id}))})})]}),Object(x.jsxs)("div",{className:ot.a.info,children:[Object(x.jsxs)("div",{className:ot.a.NameStatus,children:[Object(x.jsx)("h4",{className:ot.a.name,children:s.name}),Object(x.jsxs)("p",{className:ot.a.userInfo,children:["status: ",s.status||"Hello"]})]}),Object(x.jsxs)("div",{className:ot.a.location,children:[Object(x.jsxs)("p",{className:ot.a.userInfo,children:["country:",null===(t=s.location)||void 0===t?void 0:t.country]}),Object(x.jsxs)("p",{className:ot.a.userInfo,children:["city:",null===(n=s.location)||void 0===n?void 0:n.city]})]})]})]})},jt=n(76),ft=n.n(jt),dt=a.a.memo((function(e){for(var t=e.totalUsersCount,n=e.pageSize,a=e.currentPage,r=e.onPageChange,o=e.portionSize,i=Math.ceil(t/n),c=[],u=1;u<=i;u++)c.push(u);var l=Math.ceil(i/o),j=Object(s.useState)(1),f=Object(Ge.a)(j,2),d=f[0],p=f[1],b=(d-1)*o+1,g=d*o;return Object(x.jsxs)("div",{className:ft.a.pageNumber,children:[d>1&&Object(x.jsx)(ut,{title:"prev",onClick:function(){return p(d-1)}}),c.filter((function(e){return e>=b&&e<=g})).map((function(e){return Object(x.jsx)("span",{className:a===e?ft.a.selectedPage:ft.a.notselectpage,onClick:function(){return r(e)},children:e},e)})),l-d>1&&Object(x.jsx)(ut,{title:"next",onClick:function(){return p(d+1)}})]})})),pt=a.a.memo((function(e){var t=e.totalUsersCount,n=e.pageSize,s=e.currentPage,a=e.onPageChange,r=Object(_.a)(e,["totalUsersCount","pageSize","currentPage","onPageChange"]);return Object(x.jsxs)("div",{className:at.a.users,children:[Object(x.jsx)(dt,{totalUsersCount:t,pageSize:n,currentPage:s,onPageChange:a,portionSize:20}),r.users.map((function(e){return Object(x.jsx)(lt,{user:e,follow:r.follow,unFollow:r.unFollow,followingInProgress:r.followingInProgress},e.id)}))]})})),bt=n(142),gt=Object(bt.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),mt=function(e){return e.usersPage.pageSize},Ot=function(e){return e.usersPage.totalUsersCount},ht=function(e){return e.usersPage.currentPage},xt=function(e){return e.usersPage.isFetching},vt=function(e){return e.usersPage.followingInProgress},_t=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).onPageChange=function(t){var n=e.props.pageSize;e.props.requestUsers(t,n)},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,n=e.pageSize;this.props.requestUsers(t,n)}},{key:"render",value:function(){return Object(x.jsxs)(x.Fragment,{children:[this.props.isFetching?Object(x.jsx)(Ae,{}):null,Object(x.jsx)(pt,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChange:this.onPageChange,unFollowSuccess:this.props.unFollowSuccess,followSuccess:this.props.followSuccess,users:this.props.users,followingInProgress:this.props.followingInProgress,follow:this.props.follow,unFollow:this.props.unFollow})]})}}]),n}(a.a.Component),Pt=Object(f.d)(Object(g.b)((function(e){return{users:gt(e),pageSize:mt(e),totalUsersCount:Ot(e),currentPage:ht(e),isFetching:xt(e),followingInProgress:vt(e)}}),{followSuccess:Qe,unFollowSuccess:Ke,setCurrentPage:$e,follow:function(e){return function(){var t=Object(z.a)(R.a.mark((function t(n){var s;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=q.followToUser.bind(e),nt(n,e,s,Qe);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unFollow:function(e){return function(){var t=Object(z.a)(R.a.mark((function t(n){var s;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=q.unFollowToUser.bind(e),nt(n,e,s,Ke);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},requestUsers:function(e,t){return function(){var n=Object(z.a)(R.a.mark((function n(s){var a;return R.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s(et(!0)),s($e(e)),n.next=4,q.getUsers(e,t);case 4:a=n.sent,s(et(!1)),s({type:"SET-USERS",user:a.items}),s({type:"SET-TOTAL-USERS-COUNT",totalUsersCount:a.totalCount});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}))(_t),St={initializet:!1},wt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initializet?Object(x.jsxs)("div",{className:"app-wrapper",children:[Object(x.jsx)(oe,{}),Object(x.jsx)(xe,{}),Object(x.jsxs)("div",{className:"app-wrapper-content",children:[Object(x.jsx)(j.b,{path:"/profile/:userID?",render:function(){return Object(x.jsx)(Ve,{})}}),Object(x.jsx)(j.b,{path:"/dialogs",render:function(){return Object(x.jsx)(H,{})}}),Object(x.jsx)(j.b,{path:"/news",render:function(){return Object(x.jsx)(ve,{})}}),Object(x.jsx)(j.b,{path:"/music",render:function(){return Object(x.jsx)(pe,{})}}),Object(x.jsx)(j.b,{path:"/setting",render:function(){return Object(x.jsx)(Xe,{})}}),Object(x.jsx)(j.b,{path:"/users",render:function(){return Object(x.jsx)(Pt,{})}}),Object(x.jsx)(j.b,{path:"/login",render:function(){return Object(x.jsx)(de,{})}})]})]}):Object(x.jsx)(Ae,{})}}]),n}(a.a.Component),yt=Object(f.d)(Object(g.b)((function(e){return{initializet:e.app.initializet}}),{initializeApp:function(){return function(e){var t=e(ee());Promise.all([t]).then((function(){return e({type:"INITIALIZET-SUCCESS"})}))}}})(wt)),Nt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,301)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),s(e),a(e),r(e),o(e)}))},Mt=n(141),Ct=n(133),It=Object(f.c)({postPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var n={id:5,message:t.newPostAdd,numberLike:0};return Object(p.a)(Object(p.a)({},e),{},{postData:[].concat(Object(d.a)(e.postData),[n])});case"DELETE-POST":return Object(p.a)(Object(p.a)({},e),{},{postData:Object(d.a)(e.postData.filter((function(e){return e.id!==t.id&&e})))});case"SET-USER-PROFILE":return Object(p.a)(Object(p.a)({},e),{},{profile:t.profile});case"SET-STATUS":return Object(p.a)(Object(p.a)({},e),{},{status:t.status});default:return e}},messagePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND-MESSAGE":var n={id:6,message:t.sendMessage,myMessage:!0};return Object(p.a)(Object(p.a)({},e),{},{masseges:[].concat(Object(d.a)(e.masseges),[n]),newMessage:""});default:return e}},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW-USER":return Object(p.a)(Object(p.a)({},e),{},{users:Ze(e.users,t.usersID,"id",{followed:!0})});case"UNFOLLOW-USER":return Object(p.a)(Object(p.a)({},e),{},{users:Ze(e.users,t.usersID,"id",{followed:!1})});case"SET-USERS":return Object(p.a)(Object(p.a)({},e),{},{users:t.user});case"SET-CURRENT-PAGE":return Object(p.a)(Object(p.a)({},e),{},{currentPage:t.currentPage});case"SET-TOTAL-USERS-COUNT":return Object(p.a)(Object(p.a)({},e),{},{totalUsersCount:t.totalUsersCount});case"TOGGLE-IS-FETCHING":return Object(p.a)(Object(p.a)({},e),{},{isFetching:t.isFetching});case"TOGGLE-IS-FOLLOWING-PROGRESS":return Object(p.a)(Object(p.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(d.a)(e.followingInProgress),[t.userID]):e.followingInProgress.filter((function(e){return e!==t.userID}))});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-AUTH-USER-DATA":return Object(p.a)(Object(p.a)({},e),t.data);default:return e}},form:Ct.a,app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZET-SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{initializet:!0});default:return e}}}),Ut=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||f.d,Et=Object(f.e)(It,Ut(Object(f.a)(Mt.a)));window.__store__=Et;var Dt=Et;o.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(m.a,{children:Object(x.jsx)(g.a,{store:Dt,children:Object(x.jsx)(yt,{store:Dt})})})}),document.getElementById("root")),Nt()},31:function(e,t,n){e.exports={PrfileInfo:"ProfileInfo_PrfileInfo__3tEmj",PrfileInfoImg:"ProfileInfo_PrfileInfoImg__10neJ",ava:"ProfileInfo_ava__arQX6",discriptionInfo:"ProfileInfo_discriptionInfo__ZtD8k",name:"ProfileInfo_name__10GhZ",profileStatus:"ProfileInfo_profileStatus__2A15U",statusText:"ProfileInfo_statusText__1GbtM",statusInput:"ProfileInfo_statusInput__2bsQm"}},41:function(e,t,n){e.exports={mypost:"MyPost_mypost__3sDTz",mypostContainer:"MyPost_mypostContainer__2-bdk",ava:"MyPost_ava__3OT6u",form:"MyPost_form__26x3X",myPosts:"MyPost_myPosts__2lsYr"}},54:function(e,t,n){e.exports={error:"FormsControls_error__25lZQ",formSummaryError:"FormsControls_formSummaryError__3SArY"}},58:function(e,t,n){e.exports={form:"LoginForm_form__3zkcS",input:"LoginForm_input__A4twx",checkbox:"LoginForm_checkbox__3o0GS"}},75:function(e,t,n){e.exports={post:"Post_post__3xkcK",massage:"Post_massage__3-F9C",like:"Post_like__zUo2a"}},76:function(e,t,n){e.exports={pageNumber:"Paginator_pageNumber__3UFLY",selectedPage:"Paginator_selectedPage__2VvUS",notselectpage:"Paginator_notselectpage__1YS2_"}},94:function(e,t,n){e.exports={MytextMesage:"Message_MytextMesage__25ENL",YoutextMesage:"Message_YoutextMesage__2wXAD"}},97:function(e,t,n){e.exports={header:"Header_header__yfRMG",loginBlock:"Header_loginBlock__2TtaP"}},98:function(e,t,n){e.exports={nav:"Navbar_nav__1pZty",navContainer:"Navbar_navContainer__3lypU"}},99:function(e,t,n){e.exports={item:"NavlinkForPage_item__1QzgZ",active:"NavlinkForPage_active__2SybX"}}},[[300,1,2]]]);
//# sourceMappingURL=main.b086cdf3.chunk.js.map