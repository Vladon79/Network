(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{132:function(e,t,s){e.exports={loginContainer:"LoginPage_loginContainer__2ACPH"}},133:function(e,t,s){e.exports={button:"Button_button__2czcP"}},14:function(e,t,s){e.exports={nav:"Navbar_nav__1pZty",navContainer:"Navbar_navContainer__3lypU",item:"Navbar_item__akRF7",active:"Navbar_active__1ahue"}},15:function(e,t,s){e.exports={userPage:"User_userPage__2fV_d",avaButton:"User_avaButton__2XvCX",avaDiv:"User_avaDiv__8o_Y5",ava:"User_ava__2oGSE",buttonDiv:"User_buttonDiv__1YVJg",userButton:"User_userButton__1V3Wv",info:"User_info__1DROC",NameStatus:"User_NameStatus__3Tl6P",name:"User_name__339LZ",userInfo:"User_userInfo__1rMPm",location:"User_location__Me1bg"}},164:function(e,t,s){},165:function(e,t,s){},29:function(e,t,s){e.exports={dialogs:"Dialogs_dialogs__1nBy9",dialogsItem:"Dialogs_dialogsItem__2c3zI",dialog:"Dialogs_dialog__2pIox",active:"Dialogs_active__3OOF6",messages:"Dialogs_messages__164NY",addMessage:"Dialogs_addMessage__1sej9"}},291:function(e,t,s){"use strict";s.r(t);var n=s(1),a=s.n(n),r=s(67),i=s.n(r),o=(s(164),s(21)),c=s(22),u=s(24),l=s(23),f=s(12),d=s(10),j=s(9),b=(s(165),s(45)),p=s(4),h={masseges:[{id:1,message:"Hi",myMessage:!1},{id:2,message:"How are you",myMessage:!0},{id:3,message:"Where are you from??",myMessage:!0},{id:4,message:"Help",myMessage:!1},{id:5,message:"Hello",myMessage:!0}],dialogs:[{id:1,name:"Artem",ava:"https://images.unsplash.com/photo-1562569633-622303bafef5?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=334&q=80"},{id:2,name:"Arina",ava:"https://images.unsplash.com/photo-1562569633-622303bafef5?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=334&q=80"},{id:3,name:"Anita",ava:"https://images.unsplash.com/photo-1562569633-622303bafef5?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=334&q=80"},{id:4,name:"Dima",ava:"https://images.unsplash.com/photo-1562569633-622303bafef5?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=334&q=80"},{id:5,name:"Egor",ava:"https://images.unsplash.com/photo-1562569633-622303bafef5?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=334&q=80"},{id:6,name:"Pavel",ava:"https://images.unsplash.com/photo-1562569633-622303bafef5?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=334&q=80"}]},m=s(11),g=s(29),O=s.n(g),x=s(0),v=function(e){var t="/dialogs/"+e.id;return Object(x.jsxs)("div",{className:O.a.dialog,children:[Object(x.jsx)("img",{src:e.ava}),Object(x.jsx)(f.b,{to:t,activeClassName:O.a.active,children:e.name})]})},P=s(25),S=s(90),_=s.n(S),w=function(e){var t=e.textMesage,s=e.myMassege;Object(P.a)(e,["textMesage","myMassege"]);return Object(x.jsx)("div",{className:s?_.a.YoutextMesage:_.a.MytextMesage,children:t})},C=s(125),N=s(126),I=s(52),M=s.n(I),A=function(e){e.input;var t=e.meta,s=Object(P.a)(e,["input","meta"]),n=t.touched&&t.error;return Object(x.jsxs)("div",{className:"".concat(M.a.formControl,"  ").concat(n&&M.a.error),children:[Object(x.jsx)("div",{children:s.children}),Object(x.jsx)("div",{children:n&&Object(x.jsx)("span",{children:t.error})})]})},y=function(e){var t=e.input,s=(e.meta,Object(P.a)(e,["input","meta"]));return Object(x.jsxs)(A,Object(p.a)(Object(p.a)({},e),{},{children:[Object(x.jsx)("textarea",Object(p.a)(Object(p.a)({},t),s))," "]}))},E=function(e){var t=e.input,s=(e.meta,Object(P.a)(e,["input","meta"]));return Object(x.jsxs)(A,Object(p.a)(Object(p.a)({},e),{},{children:[Object(x.jsx)("input",Object(p.a)(Object(p.a)({},t),s))," "]}))},U=function(e){if(!e)return"Field is rejquired"},T=function(e){return function(t){if(t.length>e)return"max length is ".concat(e,"  symbols")}},D=function(e){var t=e.messages.map((function(e){return Object(x.jsx)(w,{textMesage:e.message,myMassege:e.myMessage},e.id)})),s=e.dialogs.map((function(e){return Object(x.jsx)(v,{name:e.name,id:e.id,ava:e.ava},e.id)}));return Object(x.jsxs)("div",{className:O.a.dialogs,children:[Object(x.jsx)("div",{className:O.a.dialogsItem,children:s}),Object(x.jsxs)("div",{className:O.a.messages,children:[Object(x.jsx)("div",{children:t}),Object(x.jsx)("div",{className:O.a.addMessage,children:Object(x.jsx)(L,{onSubmit:function(t){var s=t.newMessage;console.log(s),e.SendMessage(s)}})})]})]})},F=T(200),L=Object(N.a)({form:"newMessage"})((function(e){return Object(x.jsxs)("form",{onSubmit:e.handleSubmit,className:O.a.form,children:[Object(x.jsx)("div",{children:Object(x.jsx)(C.a,{placeholder:"New message",name:"newMessage",component:y,validate:[U,F],className:O.a.input})}),Object(x.jsx)("div",{children:Object(x.jsx)("button",{children:"Send"})})]})})),R=function(e){return{isAuth:e.auth.isAuth}};var G=function(e){var t=function(t){Object(u.a)(n,t);var s=Object(l.a)(n);function n(){return Object(o.a)(this,n),s.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var t=this.props,s=(t.isAuth,Object(P.a)(t,["isAuth"]));return this.props.isAuth?Object(x.jsx)(e,Object(p.a)({},s)):Object(x.jsx)(d.a,{to:"/login"})}}]),n}(a.a.Component);return Object(m.b)(R)(t)},k=Object(j.d)(G,Object(m.b)((function(e){return{messages:e.messagePage.masseges,dialogs:e.messagePage.dialogs,isAuth:e.auth.isAuth}}),(function(e){return{SendMessage:function(t){e({type:"SEND-MESSAGE",sendMessage:t})}}})))(D),H=s(131),B=s.n(H).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"89087f1a-df84-4609-ac91-9f089fdba243"}}),Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return B.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},V=function(e){return B.post("follow/".concat(e)).then((function(e){return e.data}))},X=function(e){return B.delete("follow/".concat(e)).then((function(e){return e.data}))},z=function(e){return Q.getProfile(e)},Q={getProfile:function(e){return B.get("profile/"+e).then((function(e){return e.data}))},getStatus:function(e){return B.get("profile/status/"+e)},updateStatus:function(e){return B.put("profile/status",{status:e})}},W=function(){return B.get("auth/me").then((function(e){return e.data}))},q=function(e){return B.post("/auth/login",e)},J=function(){return B.delete("/auth/login").then((function(e){return e.data}))},K=s(40),Z={id:null,email:null,login:"",isAuth:!1},$=function(e){return{type:"SET-AUTH-USER-DATA",data:e}},ee=function(){return function(e){return W().then((function(t){0===t.resultCode&&e($(Object(p.a)({isAuth:!0},t.data)))}))}},te=s(93),se=s.n(te),ne=function(e){return Object(x.jsxs)("header",{className:se.a.header,children:[Object(x.jsx)("img",{src:"data:image/png;base64,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"}),Object(x.jsx)("div",{className:se.a.loginBlock,children:e.isAuth?Object(x.jsxs)("div",{children:[e.login,"-",Object(x.jsx)("button",{onClick:e.logoutMe,children:"Log out"})," "]}):Object(x.jsx)(f.b,{to:"/login",children:"Login"})})]})},ae=function(e){Object(u.a)(s,e);var t=Object(l.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.props.authMe()}},{key:"render",value:function(){return Object(x.jsx)(ne,{logoutMe:this.props.logoutMe,isAuth:this.props.isAuth,login:this.props.login})}}]),s}(a.a.Component),re=Object(m.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{setAuthUserData:$,authMe:ee,logoutMe:function(){return function(e){J().then((function(t){0===t.resultCode&&e($({id:null,email:null,login:"",isAuth:!1}))}))}}})(ae),ie=s(55),oe=s.n(ie),ce=T(30),ue=Object(N.a)({form:"login"})((function(e){return Object(x.jsxs)("form",{onSubmit:e.handleSubmit,className:oe.a.form,children:[Object(x.jsx)("div",{children:Object(x.jsx)(C.a,{placeholder:"email",name:"email",component:E,validate:[U,ce],className:oe.a.input})}),Object(x.jsx)("div",{children:Object(x.jsx)(C.a,{placeholder:"password",type:"password",name:"password",component:E,validate:[U,ce],className:oe.a.input})}),Object(x.jsxs)("div",{children:[Object(x.jsx)(C.a,{type:"checkbox",component:"input",name:"rememberMe",className:oe.a.checkbox})," remember me"]}),e.error&&Object(x.jsx)("div",{className:M.a.formSummaryError,children:e.error}),Object(x.jsx)("div",{children:Object(x.jsx)("button",{children:"Login"})})]})})),le=s(132),fe=s.n(le),de=Object(m.b)((function(e){return{isAuth:e.auth.isAuth}}),{loginMe:function(e){return function(t){q(e).then((function(e){if(console.log(e.data),0===e.data.resultCode)t(ee());else{var s=e.data.messages.length>0?e.data.messages[0]:"someError";t(Object(K.a)("login",{_error:s}))}}))}}})((function(e){return e.isAuth?Object(x.jsx)(d.a,{to:"/profile"}):Object(x.jsxs)("div",{className:fe.a.loginContainer,children:[Object(x.jsx)("h1",{children:"Login"}),Object(x.jsx)(ue,{onSubmit:function(t){e.loginMe(t)}})]})})),je=G((function(){return Object(x.jsx)("div",{children:Object(x.jsx)("button",{children:"+"})})})),be=s(14),pe=s.n(be),he=function(){Object(m.c)((function(e){return e.usersPage.users}));return Object(x.jsx)("nav",{className:pe.a.nav,children:Object(x.jsxs)("div",{className:pe.a.navContainer,children:[Object(x.jsx)("div",{className:pe.a.item,children:Object(x.jsx)(f.b,{to:"/profile",activeClassName:pe.a.active,children:"Profile"})}),Object(x.jsx)("div",{className:pe.a.item,children:Object(x.jsx)(f.b,{to:"/users",activeClassName:pe.a.active,children:"Users"})}),Object(x.jsx)("div",{className:pe.a.item,children:Object(x.jsx)(f.b,{to:"/dialogs",activeClassName:pe.a.active,children:" Massages"})}),Object(x.jsx)("div",{className:pe.a.item,children:Object(x.jsx)(f.b,{to:"/news",activeClassName:pe.a.active,children:" News"})}),Object(x.jsx)("div",{className:pe.a.item,children:Object(x.jsx)(f.b,{to:"/music",activeClassName:pe.a.active,children:"Music"})}),Object(x.jsx)("div",{className:pe.a.item,children:Object(x.jsx)(f.b,{to:"/setting",activeClassName:pe.a.active,children:"Settings"})})]})})},me=function(){return Object(x.jsx)("div",{children:"News"})},ge=s(38),Oe=s.n(ge),xe=T(30),ve=Object(N.a)({form:"profileNewPostForm"})((function(e){return Object(x.jsxs)("form",{onSubmit:e.handleSubmit,className:Oe.a.form,children:[Object(x.jsx)("div",{children:Object(x.jsx)(C.a,{placeholder:"Add new post",name:"newPost",component:y,validate:[U,xe]})}),Object(x.jsx)("div",{children:Object(x.jsx)("button",{children:"Login"})})]})})),Pe=s(72),Se=s.n(Pe),_e=function(e){return Object(x.jsxs)("div",{className:Se.a.post,children:[Object(x.jsx)("div",{children:Object(x.jsx)("img",{src:"https://images.unsplash.com/photo-1562569633-622303bafef5?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=334&q=80"})}),Object(x.jsxs)("div",{className:Se.a.massage,children:[e.massage,Object(x.jsxs)("div",{className:Se.a.like,children:[Object(x.jsx)("span",{children:"\u2665"}),e.like]})]})]})},we=function(e){var t=e.post.map((function(e){return Object(x.jsx)(_e,{massage:e.message,like:e.numberLike},e.id)}));return Object(x.jsxs)("div",{className:Oe.a.mypost,children:[Object(x.jsxs)("div",{className:Oe.a.mypostContainer,children:[Object(x.jsx)("div",{children:Object(x.jsx)("img",{className:Oe.a.ava,src:"https://images.unsplash.com/photo-1562569633-622303bafef5?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=334&q=80"})}),Object(x.jsx)(ve,{onSubmit:function(t){var s=t.newPost;e.addPost(s)}})]}),Object(x.jsxs)("div",{className:Oe.a.myPosts,children:[Object(x.jsx)("h3",{children:"My post"}),t]})]})},Ce=s(94),Ne=s.n(Ce),Ie=s.p+"static/media/preloader.d564adc2.svg",Me=s(95),Ae=s.n(Me),ye=function(){return Object(x.jsxs)("div",{className:Ae.a.preloaderContainer,children:[Object(x.jsx)("img",{src:Ie,className:Ae.a.preloader})," "]})},Ee=s(30),Ue=s.n(Ee),Te=function(e){Object(u.a)(s,e);var t=Object(l.a)(s);function s(){var e;Object(o.a)(this,s);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={editMode:!1,status:e.props.status},e.activateEditMode=function(){e.setState({editMode:!0})},e.deactivateEditMode=function(){e.setState({editMode:!1}),e.props.updateStatus(e.state.status)},e.onStatusChange=function(t){t.currentTarget.value&&e.setState({status:t.currentTarget.value})},e}return Object(c.a)(s,[{key:"componentDidUpdate",value:function(e,t){e.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return Object(x.jsx)("div",{className:Ue.a.profileStatus,children:this.state.editMode?Object(x.jsx)("div",{className:Ue.a.statusInput,children:Object(x.jsx)("input",{autoFocus:!0,onChange:this.onStatusChange,onBlur:this.deactivateEditMode,value:this.state.status})}):Object(x.jsx)("div",{className:Ue.a.statusText,children:Object(x.jsx)("span",{onDoubleClick:this.activateEditMode,children:this.props.status||"__________"})})})}}]),s}(a.a.Component),De=s.p+"static/media/user.17df8b8c.png",Fe=function(e){return e.profile?Object(x.jsxs)("div",{className:Ue.a.PrfileInfo,children:[Object(x.jsx)("div",{className:Ue.a.PrfileInfoImg,children:Object(x.jsx)("img",{className:Ue.a.ava,src:e.profile.photos.large||De})}),Object(x.jsxs)("div",{className:Ue.a.discriptionInfo,children:[Object(x.jsx)("h5",{className:Ue.a.name,children:"Vlad Klopot"}),Object(x.jsx)(Te,{status:e.status,updateStatus:e.updateStatus})]})]}):Object(x.jsx)(ye,{})},Le=function(e){return Object(x.jsx)("div",{className:Ne.a.profile,children:Object(x.jsxs)("div",{className:Ne.a.profileContainer,children:[Object(x.jsx)(Fe,{profile:e.profile,status:e.status,updateStatus:e.updateStatus}),Object(x.jsx)(we,{post:e.post,newPostChange:e.newPostChange,addPost:e.addPost})]})})},Re={postData:[{id:1,message:"Today I go to the cinema",numberLike:12},{id:2,message:"Haw are you?",numberLike:20},{id:3,message:"It's my firs post!",numberLike:100}],profile:null,status:""},Ge=function(e){return{type:"SET-USER-PROFILE",profile:e}},ke=function(e){return{type:"SET-STATUS",status:e}},He=function(e){Object(u.a)(s,e);var t=Object(l.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userID;e||(e=String(this.props.userID))||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"render",value:function(){return Object(x.jsx)(Le,Object(p.a)(Object(p.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),s}(a.a.Component),Be=Object(j.d)(G,Object(m.b)((function(e){return{profile:e.postPage.profile,status:e.postPage.status,post:e.postPage.postData,userID:e.auth.id}}),{addPost:function(e){return{type:"ADD-POST",newPostAdd:e}},setUsersProfile:Ge,getUserProfile:function(e){return function(t){z(e).then((function(e){t(Ge(e))}))}},getStatus:function(e){return function(t){Q.getStatus(e).then((function(e){t(ke(e.data))}))}},updateStatus:function(e){return function(t){Q.updateStatus(e).then((function(s){0===s.data.resultCode&&t(ke(e))}))}}}),d.f)(He),Ye=function(){return Object(x.jsx)("div",{children:"Setting"})},Ve={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[]},Xe=function(e){return{type:"FOLLOW-USER",usersID:e}},ze=function(e){return{type:"UNFOLLOW-USER",usersID:e}},Qe=function(e){return{type:"SET-CURRENT-PAGE",currentPage:e}},We=function(e){return{type:"TOGGLE-IS-FETCHING",isFetching:e}},qe=function(e,t){return{type:"TOGGLE-IS-FOLLOWING-PROGRESS",isFetching:e,userID:t}},Je=s(56),Ke=s.n(Je),Ze=s(15),$e=s.n(Ze),et=s(133),tt=s.n(et),st=function(e){var t=e.title,s=e.onClick,n=Object(P.a)(e,["title","onClick"]),a="".concat(tt.a.button," ").concat(n.className);return Object(x.jsx)("button",{onClick:s,className:a,disabled:n.disabled,children:t})},nt=function(e){var t,s,n=e.user,a=Object(P.a)(e,["user"]);return Object(x.jsxs)("div",{className:$e.a.userPage,children:[Object(x.jsxs)("div",{className:$e.a.avaButton,children:[Object(x.jsx)("div",{className:$e.a.avaDiv,children:Object(x.jsx)(f.b,{to:"/profile/"+n.id,children:Object(x.jsx)("img",{src:n.ava?n.ava:De,className:$e.a.ava})})}),Object(x.jsx)("div",{className:$e.a.buttonDiv,children:n.followed?Object(x.jsx)(st,{className:$e.a.userButton,onClick:function(){return a.unFollow(n.id)},title:"Unfollow",disabled:a.followingInProgress.some((function(e){return e===n.id}))}):Object(x.jsx)(st,{className:$e.a.userButton,onClick:function(){return a.follow(n.id)},title:"Follow",disabled:a.followingInProgress.some((function(e){return e===n.id}))})})]}),Object(x.jsxs)("div",{className:$e.a.info,children:[Object(x.jsxs)("div",{className:$e.a.NameStatus,children:[Object(x.jsx)("h4",{className:$e.a.name,children:n.name}),Object(x.jsxs)("p",{className:$e.a.userInfo,children:["status:",n.status]})]}),Object(x.jsxs)("div",{className:$e.a.location,children:[Object(x.jsxs)("p",{className:$e.a.userInfo,children:["country:",null===(t=n.location)||void 0===t?void 0:t.country]}),Object(x.jsxs)("p",{className:$e.a.userInfo,children:["city:",null===(s=n.location)||void 0===s?void 0:s.city]})]})]})]})},at=a.a.memo((function(e){for(var t=Math.ceil(e.totalUsersCount/e.pageSize),s=[],n=1;n<=t;n++)s.push(n);return Object(x.jsxs)("div",{className:Ke.a.users,children:[Object(x.jsx)("div",{className:Ke.a.pageNumber,children:s.map((function(t){return Object(x.jsx)("span",{className:e.currentPage===t?Ke.a.selectedPage:Ke.a.notselectpage,onClick:function(){return e.onPageChange(t)},children:t},t)}))}),e.users.map((function(t){return Object(x.jsx)(nt,{user:t,follow:e.follow,unFollow:e.unFollow,followingInProgress:e.followingInProgress},t.id)}))]})})),rt=function(e){return e.usersPage.users},it=function(e){return e.usersPage.pageSize},ot=function(e){return e.usersPage.totalUsersCount},ct=function(e){return e.usersPage.currentPage},ut=function(e){return e.usersPage.isFetching},lt=function(e){return e.usersPage.followingInProgress},ft=function(e){Object(u.a)(s,e);var t=Object(l.a)(s);function s(){var e;Object(o.a)(this,s);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).onPageChange=function(t){e.props.requestUsers(t,e.props.pageSize)},e}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.props.requestUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(x.jsxs)(x.Fragment,{children:[this.props.isFetching?Object(x.jsx)(ye,{}):null,Object(x.jsx)(at,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChange:this.onPageChange,unFollowSuccess:this.props.unFollowSuccess,followSuccess:this.props.followSuccess,users:this.props.users,followingInProgress:this.props.followingInProgress,follow:this.props.follow,unFollow:this.props.unFollow})]})}}]),s}(a.a.Component),dt=Object(j.d)(Object(m.b)((function(e){return{users:rt(e),pageSize:it(e),totalUsersCount:ot(e),currentPage:ct(e),isFetching:ut(e),followingInProgress:lt(e)}}),{followSuccess:Xe,unFollowSuccess:ze,setCurrentPage:Qe,requestUsers:function(e,t){return function(s){s(We(!0)),s(Qe(e)),Y(e,t).then((function(e){s(We(!1)),s({type:"SET-USERS",user:e.items}),s({type:"SET-TOTAL-USERS-COUNT",totalUsersCount:200})}))}},follow:function(e){return function(t){t(qe(!0,e)),V(e).then((function(s){0===s.resultCode&&t(Xe(e)),t(qe(!1,e))}))}},unFollow:function(e){return function(t){t(qe(!0,e)),X(e).then((function(s){0===s.resultCode&&t(ze(e)),t(qe(!1,e))}))}}}))(ft),jt={initializet:!1},bt=function(e){Object(u.a)(s,e);var t=Object(l.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initializet?Object(x.jsx)(f.a,{children:Object(x.jsxs)("div",{className:"app-wrapper",children:[Object(x.jsx)(re,{}),Object(x.jsx)(he,{}),Object(x.jsxs)("div",{className:"app-wrapper-content",children:[Object(x.jsx)(d.b,{path:"/profile/:userID?",render:function(){return Object(x.jsx)(Be,{})}}),Object(x.jsx)(d.b,{path:"/dialogs",render:function(){return Object(x.jsx)(k,{})}}),Object(x.jsx)(d.b,{path:"/news",render:function(){return Object(x.jsx)(me,{})}}),Object(x.jsx)(d.b,{path:"/music",render:function(){return Object(x.jsx)(je,{})}}),Object(x.jsx)(d.b,{path:"/setting",render:function(){return Object(x.jsx)(Ye,{})}}),Object(x.jsx)(d.b,{path:"/users",render:function(){return Object(x.jsx)(dt,{})}}),Object(x.jsx)(d.b,{path:"/login",render:function(){return Object(x.jsx)(de,{})}})]})]})}):Object(x.jsx)(ye,{})}}]),s}(a.a.Component),pt=Object(j.d)(Object(m.b)((function(e){return{initializet:e.app.initializet}}),{initializeApp:function(){return function(e){var t=e(ee());Promise.all([t]).then((function(){return e({type:"INITIALIZET-SUCCESS"})}))}}})(bt)),ht=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,292)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;s(e),n(e),a(e),r(e),i(e)}))},mt=s(134),gt=s(127),Ot=Object(j.c)({postPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var s={id:5,message:t.newPostAdd,numberLike:0};return Object(p.a)(Object(p.a)({},e),{},{postData:[].concat(Object(b.a)(e.postData),[s])});case"SET-USER-PROFILE":return Object(p.a)(Object(p.a)({},e),{},{profile:t.profile});case"SET-STATUS":return Object(p.a)(Object(p.a)({},e),{},{status:t.status});default:return e}},messagePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND-MESSAGE":var s={id:6,message:t.sendMessage,myMessage:!0};return Object(p.a)(Object(p.a)({},e),{},{masseges:[].concat(Object(b.a)(e.masseges),[s]),newMessage:""});default:return e}},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW-USER":return Object(p.a)(Object(p.a)({},e),{},{users:e.users.map((function(e){return e.id===t.usersID?Object(p.a)(Object(p.a)({},e),{},{followed:!0}):e}))});case"UNFOLLOW-USER":return Object(p.a)(Object(p.a)({},e),{},{users:e.users.map((function(e){return e.id===t.usersID?Object(p.a)(Object(p.a)({},e),{},{followed:!1}):e}))});case"SET-USERS":return Object(p.a)(Object(p.a)({},e),{},{users:t.user});case"SET-CURRENT-PAGE":return Object(p.a)(Object(p.a)({},e),{},{currentPage:t.currentPage});case"SET-TOTAL-USERS-COUNT":return Object(p.a)(Object(p.a)({},e),{},{totalUsersCount:t.totalUsersCount});case"TOGGLE-IS-FETCHING":return Object(p.a)(Object(p.a)({},e),{},{isFetching:t.isFetching});case"TOGGLE-IS-FOLLOWING-PROGRESS":return Object(p.a)(Object(p.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(b.a)(e.followingInProgress),[t.userID]):e.followingInProgress.filter((function(e){return e!==t.userID}))});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-AUTH-USER-DATA":return Object(p.a)(Object(p.a)({},e),t.data);default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZET-SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{initializet:!0});default:return e}},form:gt.a}),xt=Object(j.e)(Ot,Object(j.a)(mt.a));i.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(m.a,{store:xt,children:Object(x.jsx)(pt,{store:xt})})}),document.getElementById("root")),ht()},30:function(e,t,s){e.exports={PrfileInfo:"ProfileInfo_PrfileInfo__3tEmj",PrfileInfoImg:"ProfileInfo_PrfileInfoImg__10neJ",ava:"ProfileInfo_ava__arQX6",discriptionInfo:"ProfileInfo_discriptionInfo__ZtD8k",name:"ProfileInfo_name__10GhZ",profileStatus:"ProfileInfo_profileStatus__2A15U",statusText:"ProfileInfo_statusText__1GbtM",statusInput:"ProfileInfo_statusInput__2bsQm"}},38:function(e,t,s){e.exports={mypost:"MyPost_mypost__3sDTz",mypostContainer:"MyPost_mypostContainer__2-bdk",ava:"MyPost_ava__3OT6u",form:"MyPost_form__26x3X",myPosts:"MyPost_myPosts__2lsYr"}},52:function(e,t,s){e.exports={error:"FormsControls_error__25lZQ",formSummaryError:"FormsControls_formSummaryError__3SArY"}},55:function(e,t,s){e.exports={form:"LoginForm_form__3zkcS",input:"LoginForm_input__A4twx",checkbox:"LoginForm_checkbox__3o0GS"}},56:function(e,t,s){e.exports={users:"Users_users__1pPf_",pageNumber:"Users_pageNumber__AR5Uu",notselectpage:"Users_notselectpage__35MMd",selectedPage:"Users_selectedPage__16sE1"}},72:function(e,t,s){e.exports={post:"Post_post__3xkcK",massage:"Post_massage__3-F9C",like:"Post_like__zUo2a"}},90:function(e,t,s){e.exports={MytextMesage:"Message_MytextMesage__25ENL",YoutextMesage:"Message_YoutextMesage__2wXAD"}},93:function(e,t,s){e.exports={header:"Header_header__yfRMG",loginBlock:"Header_loginBlock__2TtaP"}},94:function(e,t,s){e.exports={profile:"Profile_profile__Raocc",profileContainer:"Profile_profileContainer__3htoh"}},95:function(e,t,s){e.exports={preloaderContainer:"Preloader_preloaderContainer__cTqqf",preloader:"Preloader_preloader__1X58S"}}},[[291,1,2]]]);
//# sourceMappingURL=main.90d0d7ab.chunk.js.map