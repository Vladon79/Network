(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{297:function(t,e,a){"use strict";var s=a(34),o=(a(0),a(298)),i=a.n(o),n=a(1);e.a=function(t){var e=t.title,a=t.onClick,o=Object(s.a)(t,["title","onClick"]),r="".concat(i.a.button," ").concat(o.className);return Object(n.jsx)("button",{onClick:a,className:r,disabled:o.disabled,children:e})}},298:function(t,e,a){t.exports={button:"Button_button__2czcP"}},299:function(t,e,a){"use strict";e.a=a.p+"static/media/user.17df8b8c.png"},300:function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));var s=a(98);function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var a=[],s=!0,o=!1,i=void 0;try{for(var n,r=t[Symbol.iterator]();!(s=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);s=!0);}catch(c){o=!0,i=c}finally{try{s||null==r.return||r.return()}finally{if(o)throw i}}return a}}(t,e)||Object(s.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},302:function(t,e,a){t.exports={mypost:"MyPost_mypost__3sDTz",mypostContainer:"MyPost_mypostContainer__2-bdk",ava:"MyPost_ava__3OT6u",form:"MyPost_form__26x3X",myPosts:"MyPost_myPosts__2lsYr"}},303:function(t,e,a){t.exports={PrfileInfo:"ProfileInfo_PrfileInfo__3tEmj",PrfileInfoImg:"ProfileInfo_PrfileInfoImg__10neJ",ava:"ProfileInfo_ava__arQX6",inputFileBlock:"ProfileInfo_inputFileBlock__3Q-WZ",newPhotoButton:"ProfileInfo_newPhotoButton__2ZH4d",inputFile:"ProfileInfo_inputFile__2g-pv",discriptionInfo:"ProfileInfo_discriptionInfo__ZtD8k",profileStatus:"ProfileInfo_profileStatus__2A15U",statusText:"ProfileInfo_statusText__1GbtM",statusInput:"ProfileInfo_statusInput__2bsQm"}},305:function(t,e,a){t.exports={post:"Post_post__3xkcK",massage:"Post_massage__3-F9C",like:"Post_like__zUo2a"}},306:function(t,e,a){t.exports={profile:"Profile_profile__Raocc",profileContainer:"Profile_profileContainer__3htoh"}},307:function(t,e,a){t.exports={profileData:"ProfileData_profileData__1w1Zb",left:"ProfileData_left__3pbX5",fullName:"ProfileData_fullName__12O-a",right:"ProfileData_right___X0OE",dataValue:"ProfileData_dataValue__2E3HL",contacts:"ProfileData_contacts__1KW0b",contact:"ProfileData_contact__33m_b",button:"ProfileData_button__3Vsaf"}},308:function(t,e,a){t.exports={profileDataForm:"ProfileDataForm_profileDataForm__uKpuE",profileData:"ProfileDataForm_profileData__16pC4",textarea:"ProfileDataForm_textarea__qvDXo",input:"ProfileDataForm_input__3NKMV",buttonBlock:"ProfileDataForm_buttonBlock__1-53G",button:"ProfileDataForm_button__d1Rox"}},313:function(t,e,a){"use strict";a.r(e);var s=a(3),o=a(36),i=a(37),n=a(39),r=a(38),c=a(12),l=a(0),u=a.n(l),f=a(302),j=a.n(f),b=a(89),p=a(130),d=a(48),m=a(58),h=a(297),_=a(1),O=Object(d.a)(30),x=Object(p.a)({form:"profileNewPostForm"})((function(t){return Object(_.jsxs)("form",{onSubmit:t.handleSubmit,className:j.a.form,children:[Object(_.jsx)("div",{children:Object(_.jsx)(b.a,{placeholder:"Add new post",name:"newPost",component:m.b,validate:[d.b,O]})}),Object(_.jsx)("div",{children:Object(_.jsx)(h.a,{title:"Send",className:j.a.button})})]})})),v=a(305),P=a.n(v),g=a(299),N=function(t){var e,a;return Object(_.jsxs)("div",{className:P.a.post,children:[Object(_.jsx)("div",{children:Object(_.jsx)("img",{src:(null===t||void 0===t||null===(e=t.profile)||void 0===e||null===(a=e.photos)||void 0===a?void 0:a.large)||g.a})}),Object(_.jsxs)("div",{className:P.a.massage,children:[t.massage,Object(_.jsxs)("div",{className:P.a.like,children:[Object(_.jsx)("span",{children:"\u2665"}),t.like]})]})]})},y=u.a.memo((function(t){var e,a,s=t.post.map((function(e){return Object(_.jsx)(N,{profile:t.profile,massage:e.message,like:e.numberLike},e.id)}));return Object(_.jsxs)("div",{className:j.a.mypost,children:[Object(_.jsxs)("div",{className:j.a.mypostContainer,children:[Object(_.jsx)("div",{children:Object(_.jsx)("img",{className:j.a.ava,src:(null===t||void 0===t||null===(e=t.profile)||void 0===e||null===(a=e.photos)||void 0===a?void 0:a.large)||g.a})}),Object(_.jsx)(x,{onSubmit:function(e){var a=e.newPost;t.addPost(a)}})]}),Object(_.jsxs)("div",{className:j.a.myPosts,children:[Object(_.jsx)("h3",{children:"My post"}),s]})]})})),k=a(306),D=a.n(k),I=a(300),S=a(67),F=a(303),w=a.n(F),C=a(307),M=a.n(C),A=function(t){var e=Object(l.useState)(t.status),a=Object(I.a)(e,2),s=a[0],o=a[1],i=Object(l.useState)(!1),n=Object(I.a)(i,2),r=n[0],c=n[1];return Object(l.useEffect)((function(){o(t.status)}),[t.status]),Object(_.jsxs)("div",{className:w.a.profileStatus,children:["Status:",r?Object(_.jsx)("div",{className:w.a.statusInput,children:Object(_.jsx)("input",{autoFocus:!0,onChange:function(t){t.currentTarget.value&&o(t.currentTarget.value)},onBlur:function(){c(!1),t.updateStatus(s)},value:s})}):Object(_.jsx)("div",{className:w.a.statusText,children:Object(_.jsx)("span",{onDoubleClick:function(){c(!0)},children:t.status||"__________"})})]})},B=function(t){var e=t.contactTitle,a=t.contactValue;return Object(_.jsxs)("div",{className:M.a.contact,children:[Object(_.jsx)("b",{children:e}),":",a]})},T=function(t){var e=t.updateStatus,a=t.status,s=t.profile,o=t.isOwner,i=t.goToEditMode;return Object(_.jsxs)("div",{className:M.a.profileData,children:[Object(_.jsxs)("section",{className:M.a.left,children:[Object(_.jsxs)("section",{className:M.a.fullName,children:[Object(_.jsx)("b",{children:"Name:"}),s.fullName]}),Object(_.jsx)(A,{status:a,updateStatus:e})]}),Object(_.jsxs)("section",{className:M.a.right,children:[Object(_.jsxs)("section",{className:M.a.dataValue,children:[Object(_.jsx)("b",{children:"looking for a job:"}),s.lookingForAJob?"Yes":"No"]}),s.lookingForAJob&&Object(_.jsxs)("section",{className:M.a.dataValue,children:[Object(_.jsx)("b",{children:"My professional skills:"}),s.lookingForAJobDescription?"Yes":"No"]}),Object(_.jsxs)("section",{className:M.a.dataValue,children:[Object(_.jsx)("b",{children:"About me:"}),s.aboutMe]}),Object(_.jsxs)("section",{className:M.a.contacts,children:[Object(_.jsx)("b",{children:"Contacts"}),":",Object.keys(s.contacts).map((function(t){if(null!==s.contacts[t])return Object(_.jsx)(B,{contactTitle:t,contactValue:s.contacts[t]},t)}))]}),o&&Object(_.jsx)(h.a,{title:"Edit",onClick:i,className:M.a.button})]})]})},E=a(49),V=a.n(E),J=a(308),U=a.n(J),X=Object(p.a)({form:"edit-profile"})((function(t){var e=t.profile;return Object(_.jsxs)("form",{onSubmit:t.handleSubmit,className:U.a.profileDataForm,children:[Object(_.jsxs)("div",{className:U.a.profileData,children:[t.error&&Object(_.jsx)("div",{className:V.a.formSummaryError,children:t.error}),Object(_.jsxs)("div",{children:[Object(_.jsxs)("section",{children:[Object(_.jsx)("b",{children:"Full name:"}),Object(m.c)("Full name","fullName",m.a,[],U.a.input,"text")]}),Object(_.jsxs)("section",{children:[Object(_.jsx)("b",{children:"looking for a job:"}),Object(m.c)("","lookingForAJob",m.a,[],U.a.input,"checkbox")]}),Object(_.jsxs)("section",{children:[Object(_.jsx)("b",{children:"My professional skills:"}),Object(m.c)("My professional skills","lookingForAJobDescription",m.b,[],U.a.textarea,"text")]}),Object(_.jsxs)("section",{children:[Object(_.jsx)("b",{children:"About me:"}),Object(m.c)("About me","aboutMe",m.b,[],U.a.textarea,"text")]})]}),Object(_.jsxs)("section",{children:[Object(_.jsx)("b",{children:"Contacts"}),":",Object.keys(e.contacts).map((function(t){return Object(_.jsx)("div",{children:Object(_.jsxs)("b",{children:[t,":",Object(m.c)(t,"contacts."+t,m.a,[],U.a.input,"text")]})},t)}))]})]}),Object(_.jsx)("div",{className:U.a.buttonBlock,children:Object(_.jsx)(h.a,{title:"Save",className:U.a.button})})]})})),K=function(t){var e=t.profile,a=t.status,s=t.updateStatus,o=t.isOwner,i=t.savePhoto,n=t.saveProfile,r=Object(l.useState)(!1),c=Object(I.a)(r,2),u=c[0],f=c[1];if(!e)return Object(_.jsx)(S.a,{});return Object(_.jsxs)("div",{className:w.a.PrfileInfo,children:[Object(_.jsxs)("div",{className:w.a.PrfileInfoImg,children:[Object(_.jsx)("img",{className:w.a.ava,src:e.photos.large||g.a}),!!o&&Object(_.jsxs)("div",{className:w.a.inputFileBlock,children:[Object(_.jsx)(h.a,{title:"New photo",className:w.a.newPhotoButton,onClick:function(){document.getElementById("input-file").click()}}),Object(_.jsx)("input",{id:"input-file",className:w.a.inputFile,type:"file",onChange:function(t){t.target.files&&t.target.files.length>0&&i(t.target.files[0])}})]})]}),Object(_.jsx)("div",{className:w.a.discriptionInfo,children:u?Object(_.jsx)(X,{profile:e,onSubmit:function(t){n(t).then((function(){f(!1)}))},initialValues:e}):Object(_.jsx)(T,{status:a,updateStatus:s,profile:e,isOwner:o,goToEditMode:function(){f(!0)}})})]})},Z=function(t){return Object(_.jsx)("div",{className:D.a.profile,children:Object(_.jsxs)("div",{className:D.a.profileContainer,children:[Object(_.jsx)(K,{saveProfile:t.saveProfile,isOwner:t.isOwner,profile:t.profile,status:t.status,updateStatus:t.updateStatus,savePhoto:t.savePhoto}),Object(_.jsx)(y,{profile:t.profile,post:t.post,newPostChange:t.newPostChange,addPost:t.addPost})]})})},z=a(129),Q=a(10),Y=a(97),G=a(11),H=function(t){Object(n.a)(a,t);var e=Object(r.a)(a);function a(){return Object(o.a)(this,a),e.apply(this,arguments)}return Object(i.a)(a,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userID;t||(t=String(this.props.userID)),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,a){this.props.match.params.userID!==this.props.match.params.userID&&this.refreshProfile()}},{key:"render",value:function(){return Object(_.jsx)(Z,Object(s.a)(Object(s.a)({},this.props),{},{isOwner:!this.props.match.params.userID,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))}}]),a}(u.a.Component);e.default=Object(G.d)(Y.a,Object(c.b)((function(t){return{profile:t.postPage.profile,status:t.postPage.status,post:t.postPage.postData,userID:t.auth.id}}),{addPost:z.a,setUsersProfile:z.g,getUserProfile:z.c,getStatus:z.b,updateStatus:z.h,savePhoto:z.e,saveProfile:z.f}),Q.g)(H)}}]);
//# sourceMappingURL=3.3688631d.chunk.js.map